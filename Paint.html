<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewpoint" content="width=device-width, initial-scale=1.0">
    <title>ğŸ¨ê·¸ë¦¼íŒ ê²Œì„</title>

    <style> /* CSS */
        canvas {
            border: solid 2px black;
            margin-top: 25px;
            cursor: crosshair;
            box-shadow: 2px 2px 20px gray;
            background-color: ivory;
        }
        input {
            padding: 5px 10px;
            font-size: 16px;
        }
    </style>



    <script type="text/javascript"> // JavaScript
    var canvas;     // ìº”ë²„ìŠ¤ ì •ë³´ë¥¼ ë‹´ì„ ë³€ìˆ˜
    var ctx;        // ìº”ë²„ìŠ¤ ì»¨í…ìŠ¤íŠ¸ ì •ë³´ë¥¼ ë‹´ì„ ë³€ìˆ˜
    var flag = false;       // ë§ˆìš°ìŠ¤ê°€ ëˆŒë¦° ìƒíƒœì¸ì§€ í™•ì¸í•  ë³€ìˆ˜(ëˆŒë¦¬ë©´ true)

    // í˜ì´ì§€ê°€ ë¡œë“œë˜ë©´ ê·¸ë¦¼ì„ ê·¸ë¦´ ìˆ˜ ìˆê²Œ ì¤€ë¹„í•˜ëŠ” jsí•¨ìˆ˜
    function ready() {
        canvas = document.getElementById("canvasID");       // ìº”ë²„ìŠ¤ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
        ctx = canvas.getContext("2d");        // ì»¨í…ìŠ¤íŠ¸ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
        ctx.lineCap = "round";
        ctx.lineJoin = "round";

        canvas.onmousedown = drawStart;      // ìº”ë²„ìŠ¤ì—ì„œ ë§ˆìš°ìŠ¤ê°€ ëˆŒë¦¬ë©´ drawStartí•¨ìˆ˜ í˜¸ì¶œ
        canvas.onmousemove = drawing;       // ìº”ë²„ìŠ¤ì—ì„œ ë§ˆìš°ìŠ¤ê°€ ì›€ì§ì´ë©´ drawingí•¨ìˆ˜ í˜¸ì¶œ
        canvas.onmouseup = drawEnd;     // ìº”ë²„ìŠ¤ì—ì„œ ë§ˆìš°ìŠ¤ê°€ ë–¼ì´ë©´ drawEndí•¨ìˆ˜ í˜¸ì¶œ
    }

    // ê·¸ë¦¬ê¸° ì‹œì‘
    function drawStart(event) {
        ctx.beginPath();        // ìº”ë²„ìŠ¤ì— ì„  ê¸‹ê¸° ì¤€ë¹„
        var xpos = event.target.offsetLeft;     // ê·¸ë¦¬ê¸° ì‹œì‘ì ì˜ xì¢Œí‘œ
        var ypos = event.target.offsetTop;     // ê·¸ë¦¬ê¸° ì‹œì‘ì ì˜ yì¢Œí‘œ
        ctx.moveTo(event.clientX-xpos, event.clientY-ypos);       // í•´ë‹¹ ì¢Œí‘œì—ì„œ ì„  ê¸‹ê¸° ì‹œì‘
        flag = true;        // ë§ˆìš°ìŠ¤ ë²„íŠ¼ ëˆŒë¦¼ ìƒíƒœë¡œ ì „í™˜ì‹œí‚´
    }

    // ê·¸ë¦¬ëŠ” ì¤‘(ë§ˆìš°ìŠ¤ê°€ ëˆŒë¦° ìƒíƒœì—ì„œ ì›€ì§ì„)
    function drawing(event) {
        if (flag) {
            var xpos = event.target.offsetLeft;     // ê·¸ë¦¬ê¸° ì‹œì‘ì ì˜ xì¢Œí‘œ
            var ypos = event.target.offsetTop;     // ê·¸ë¦¬ê¸° ì‹œì‘ì ì˜ yì¢Œí‘œ
            ctx.lineTo(event.clientX-xpos, event.clientY-ypos);     // ì¢Œí‘œëŒ€ë¡œ ì„ ì„ ê·¸ë ¤ ë‚˜ê°
            ctx.stroke();       // ìµœì¢…ì ìœ¼ë¡œ ì„ ì„ ê·¸ë¦¼
        }
    }

    // ê·¸ë¦¬ê¸° ë
    function drawEnd(event) { flag = false; }

    // ìƒˆë¡œ ê·¸ë¦¬ê¸°
    function newDrawing(event) {
        flag = false;
        ctx.clearRect(0, 0, canvas.width, canvas.height);        // ì¢Œí‘œ 0, 0ì—ì„œë¶€í„° ìº”ë²„ìŠ¤ ê°€ë¡œì™€ ì„¸ë¡œë§Œí¼ clear
    }

    // íœ êµµê¸° ì„ íƒ
    function penBold() { ctx.lineWidth = 20 }
    function penMiddle() { ctx.lineWidth = 10 }
    function penThin() { ctx.lineWidth = 1 }

    // íœ ìƒ‰ìƒ ì„ íƒ
    function colorBlack() { ctx.strokeStyle = "black"; }
    function colorRed() { ctx.strokeStyle = "red"; }
    function colorBlue() { ctx.strokeStyle = "blue"; }
    function colorGreen() { ctx.strokeStyle = "green"; }
    function colorYellow() { ctx.strokeStyle = "yellow"; }

    function saveAs() {
        var link = document.createElement('a');
        link.download = 'ë‚´ ê·¸ë¦¼.png';
        link.href = canvas.toDataURL();
        link.click();
    }
    </script>
</head>



<body onload="ready()">
    <center style="background-color: darkgray;">
        <div style="background-color: aquamarine;">
            <h1>ë‚˜ì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ ê·¸ë˜í”½íˆ´</h1>
        </div>

        <div>
        <input type="button" value="ğŸ’¾PNG íŒŒì¼ë¡œ ì €ì¥" onclick="saveAs()" style="background-color: dodgerblue; color: white;">
        <input type="button" value="ğŸ“„ìƒˆë¡œ ê·¸ë¦¬ê¸°" onclick="newDrawing()" style="background-color: white;">
        |
        <input type="button" value="ğŸ–Œï¸íœ êµµê²Œ" onclick="penBold()">
        <input type="button" value="ğŸ–Œï¸íœ ë³´í†µ" onclick="penMiddle()">
        <input type="button" value="ğŸ–Œï¸íœ ê°€ëŠ˜ê²Œ" onclick="penThin()">
        |
        <input type="button" value="âš«ï¸ê²€ì •" onclick="colorBlack()" style="background-color: grey;">
        <input type="button" value="ğŸ”´ë¹¨ê°•" onclick="colorRed()" style="background-color: indianred;">
        <input type="button" value="ğŸ”µíŒŒë‘" onclick="colorBlue()" style="background-color: skyblue;">
        <input type="button" value="ğŸŸ¢ì´ˆë¡" onclick="colorGreen()" style="background-color: palegreen;">
        <input type="button" value="ğŸŸ¡ë…¸ë‘" onclick="colorYellow()" style="background-color: wheat;">
        </div>

        <div>
            <canvas id="canvasID" width="1080" height="1080"></canvas>
        </div>

    </center>
</body>
</html>